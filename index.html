<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Swiggy Clone — Food Delivery</title>
  <style>
    :root{--brand:#fc8019;--muted:#6b7280;--bg:#fff;--card:#fff}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; margin:0;background:var(--bg);color:#111}
    .app{max-width:1100px;margin:0 auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .logo{display:flex;align-items:center;gap:10px}
    .logo .mark{width:44px;height:44px;border-radius:10px;background:var(--brand);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .search{flex:1;margin:0 16px}
    .search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #eee}

    .top-actions{display:flex;gap:10px;align-items:center}
    .btn{background:var(--brand);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}

    .main{display:flex;gap:20px;margin-top:18px}
    .left{flex:1}
    .filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .chip{padding:8px 10px;border-radius:999px;border:1px solid #eee;background:#fff;cursor:pointer}
    .restaurants{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
    .rest-card{background:var(--card);border:1px solid #eee;padding:12px;border-radius:10px;display:flex;gap:12px;align-items:center}
    .rest-card img{width:92px;height:72px;object-fit:cover;border-radius:8px}
    .rest-info h4{margin:0 0 6px;font-size:16px}
    .rest-meta{color:var(--muted);font-size:13px}

    .sidebar{width:320px}
    .cart{position:sticky;top:18px;border-radius:10px;border:1px solid #eee;background:#fff;padding:12px}
    .cart h3{margin:0 0 8px}
    .cart-list{max-height:300px;overflow:auto;margin-bottom:10px}
    .cart-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f3f3}
    .qty{display:flex;gap:6px;align-items:center}
    .icon{background:#fafafa;border:1px solid #eee;padding:4px 8px;border-radius:6px;cursor:pointer}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal{background:#fff;border-radius:12px;padding:16px;max-width:900px;width:100%;max-height:90vh;overflow:auto}
    .menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:12px}
    .dish{border:1px solid #f0f0f0;padding:10px;border-radius:8px}

    footer{margin-top:28px;padding:12px 0;color:var(--muted);text-align:center}

    @media (max-width:900px){
      .main{flex-direction:column}
      .sidebar{width:100%}
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo">
        <div class="mark">S</div>
        <div>
          <div style="font-weight:700">Swiggy Clone</div>
          <div style="font-size:12px;color:var(--muted)">Food delivery UI demo</div>
        </div>
      </div>

      <div class="search">
        <input id="search" placeholder="Search for restaurants, dishes or cuisines" />
      </div>

      <div class="top-actions">
        <button class="btn" id="filter-btn">Filters</button>
        <button class="btn" id="open-cart">Cart (<span id="cart-count">0</span>)</button>
      </div>
    </header>

    <div class="main">
      <div class="left">
        <div class="filters" id="categories"></div>

        <div class="restaurants" id="restaurants"></div>
      </div>

      <aside class="sidebar">
        <div class="cart" id="cart">
          <h3>Your Cart</h3>
          <div class="cart-list" id="cart-list"><div style="color:var(--muted)">Cart is empty</div></div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><strong>Total:</strong></div>
            <div><strong id="cart-total">₹0</strong></div>
          </div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn" id="checkout">Checkout</button>
            <button class="icon" id="clear-cart">Clear</button>
          </div>
        </div>
      </aside>
    </div>

    <footer>Demo Swiggy-like UI — frontend only. Not an official Swiggy product.</footer>
  </div>

  <!-- Restaurant menu modal -->
  <div class="modal-backdrop" id="modal-backdrop">
    <div class="modal" id="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div>
          <h2 id="modal-title" style="margin:0">Restaurant</h2>
          <div style="color:var(--muted);font-size:14px" id="modal-sub">Quick bites • 4.2 • 25–35 min</div>
        </div>
        <div><button class="icon" id="close-modal">Close</button></div>
      </div>

      <div class="menu-grid" id="menu-grid"></div>
    </div>
  </div>

  <script>
    // Sample data
    const categoriesData = ['Recommended','Pizza','Biryani','North Indian','Desserts','Chinese','Fast Food'];
    const restaurantsData = [
      {id:1,name:'Pizza Palace',cuisines:['Pizza','Fast Food'],rating:4.4,time:'30 min',costForTwo:350,image:'https://picsum.photos/seed/p1/300/200',menu:[{id:101,name:'Margherita',price:249},{id:102,name:'Farmhouse',price:329}]},
      {id:2,name:'Biryani Hub',cuisines:['Biryani','Indian'],rating:4.6,time:'40 min',costForTwo:450,image:'https://picsum.photos/seed/b1/300/200',menu:[{id:201,name:'Hyderabadi Biryani',price:249},{id:202,name:'Veg Biryani',price:199}]},
      {id:3,name:'Noodle Express',cuisines:['Chinese','Fast Food'],rating:4.1,time:'25 min',costForTwo:300,image:'https://picsum.photos/seed/n1/300/200',menu:[{id:301,name:'Veg Hakka Noodles',price:179},{id:302,name:'Chow Mein',price:169}]},
      {id:4,name:'Sweet Tooth',cuisines:['Desserts'],rating:4.5,time:'20 min',costForTwo:200,image:'https://picsum.photos/seed/s1/300/200',menu:[{id:401,name:'Chocolate Lava Cake',price:129},{id:402,name:'Gulab Jamun',price:99}]},
    ];

    // cart structure: {dishId:{item, qty}}
    let cart = JSON.parse(localStorage.getItem('swiggy_cart')|| '{}');

    const categoriesEl = document.getElementById('categories');
    const restaurantsEl = document.getElementById('restaurants');
    const menuGrid = document.getElementById('menu-grid');
    const modalBackdrop = document.getElementById('modal-backdrop');
    const modalTitle = document.getElementById('modal-title');
    const modalSub = document.getElementById('modal-sub');
    const cartListEl = document.getElementById('cart-list');
    const cartTotalEl = document.getElementById('cart-total');
    const cartCountEl = document.getElementById('cart-count');

    // render categories
    function renderCategories(){
      categoriesData.forEach(cat=>{
        const el = document.createElement('div'); el.className='chip'; el.textContent=cat;
        el.addEventListener('click', ()=>{ filterByCategory(cat); });
        categoriesEl.appendChild(el);
      });
    }

    function filterByCategory(cat){
      if(cat==='Recommended') renderRestaurants(restaurantsData);
      else renderRestaurants(restaurantsData.filter(r=>r.cuisines.includes(cat)));
    }

    // render restaurants
    function renderRestaurants(list){
      restaurantsEl.innerHTML='';
      if(list.length===0){ restaurantsEl.innerHTML='<div style="color:var(--muted)">No restaurants found.</div>'; return; }
      list.forEach(r=>{
        const card = document.createElement('div'); card.className='rest-card';
        card.innerHTML=`
          <img src="${r.image}" alt="${r.name}" />
          <div class="rest-info">
            <h4>${r.name}</h4>
            <div class="rest-meta">${r.cuisines.join(', ')} • ${r.rating} ⭐ • ${r.time}</div>
            <div style="margin-top:8px;color:var(--muted);font-size:13px">Cost for two: ₹${r.costForTwo}</div>
          </div>
        `;
        card.addEventListener('click', ()=>openRestaurant(r));
        restaurantsEl.appendChild(card);
      });
    }

    function openRestaurant(r){
      modalTitle.textContent = r.name;
      modalSub.textContent = r.cuisines.join(', ') + ` • ${r.rating} • ${r.time}`;
      menuGrid.innerHTML='';
      r.menu.forEach(d=>{
        const el = document.createElement('div'); el.className='dish';
        el.innerHTML = `
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <strong>${d.name}</strong>
              <div style="color:var(--muted);font-size:13px">₹${d.price}</div>
            </div>
            <div>
              <button class="btn" data-id="${d.id}" data-name="${d.name}" data-price="${d.price}">Add</button>
            </div>
          </div>
        `;
        menuGrid.appendChild(el);
      });
      modalBackdrop.style.display='flex';

      // attach add listeners
      modalBackdrop.querySelectorAll('.btn').forEach(b=>{
        b.addEventListener('click', ()=>{
          const id = b.getAttribute('data-id');
          const name = b.getAttribute('data-name');
          const price = Number(b.getAttribute('data-price'));
          addToCart({id,name,price});
        });
      });
    }

    document.getElementById('close-modal').addEventListener('click', ()=>{ modalBackdrop.style.display='none'; });
    modalBackdrop.addEventListener('click',(e)=>{ if(e.target===modalBackdrop) modalBackdrop.style.display='none'; });

    // search
    document.getElementById('search').addEventListener('input',(e)=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q) renderRestaurants(restaurantsData);
      else renderRestaurants(restaurantsData.filter(r=> r.name.toLowerCase().includes(q) || r.cuisines.join(' ').toLowerCase().includes(q)));
    });

    // cart functions
    function saveCart(){ localStorage.setItem('swiggy_cart', JSON.stringify(cart)); }

    function addToCart(item){
      if(cart[item.id]) cart[item.id].qty += 1;
      else cart[item.id] = {item:{id:item.id,name:item.name,price:item.price}, qty:1};
      saveCart(); renderCart();
      alert(item.name + ' added to cart');
    }

    function changeQty(id, delta){ if(!cart[id]) return; cart[id].qty += delta; if(cart[id].qty<=0) delete cart[id]; saveCart(); renderCart(); }
    function clearCart(){ cart = {}; saveCart(); renderCart(); }

    function renderCart(){
      cartListEl.innerHTML='';
      const keys = Object.keys(cart);
      if(keys.length===0){ cartListEl.innerHTML = '<div style="color:var(--muted)">Cart is empty</div>'; cartTotalEl.textContent='₹0'; cartCountEl.textContent='0'; return; }
      let total = 0; let count = 0;
      keys.forEach(k=>{
        const entry = cart[k];
        const row = document.createElement('div'); row.className='cart-item';
        const name = document.createElement('div'); name.innerHTML = `<strong>${entry.item.name}</strong><div style="color:var(--muted);font-size:13px">₹${entry.item.price} × ${entry.qty}</div>`;
        const controls = document.createElement('div'); controls.innerHTML = `<div style="display:flex;gap:6px;align-items:center"><button class="icon" data-op="dec" data-id="${k}">-</button><div>${entry.qty}</div><button class="icon" data-op="inc" data-id="${k}">+</button></div>`;
        row.appendChild(name); row.appendChild(controls);
        cartListEl.appendChild(row);
        total += entry.item.price * entry.qty; count += entry.qty;
      });
      cartTotalEl.textContent = '₹' + total;
      cartCountEl.textContent = count;

      // attach qty buttons
      cartListEl.querySelectorAll('[data-op]').forEach(b=>{ b.addEventListener('click', ()=>{ const op = b.getAttribute('data-op'); const id = b.getAttribute('data-id'); if(op==='inc') changeQty(id,1); else changeQty(id,-1); }); });
    }

    document.getElementById('clear-cart').addEventListener('click', ()=>{ if(confirm('Clear cart?')) clearCart(); });
    document.getElementById('checkout').addEventListener('click', ()=>{ if(Object.keys(cart).length===0){ alert('Cart is empty'); return; } const name = prompt('Enter your name'); if(!name) return; alert('Thanks '+name+'! Order placed. (Demo)'); clearCart(); });
    document.getElementById('open-cart').addEventListener('click', ()=>{ window.scrollTo({top:0,behavior:'smooth'}); document.getElementById('cart').style.boxShadow='0 8px 30px rgba(0,0,0,0.12)'; setTimeout(()=>document.getElementById('cart').style.boxShadow='none',1200); });

    // init
    renderCategories(); renderRestaurants(restaurantsData); renderCart();
  </script>
</body>
</html>
