<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rasoi — Indian Restaurant</title>
  <meta name="description" content="Rasoi - Authentic Indian cuisine demo web app" />
  <style>
    :root{
      --accent:#D84315;      /* saffron-ish */
      --accent-2:#FF9800;
      --muted:#6b7280;
      --bg:#fff8f5;
      --card:#fff;
      --glass: rgba(255,255,255,0.85);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, system-ui, Arial, sans-serif;
      background: linear-gradient(180deg, #fff8f0 0%, #fff df 100%);
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:16px 0}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px;
      box-shadow:0 6px 18px rgba(216,67,21,0.12);
    }
    h1{font-size:20px;margin:0}
    .subtitle{font-size:13px;color:var(--muted)}
    nav{display:flex;gap:12px;align-items:center}
    nav a{color:#333;text-decoration:none;font-weight:600;padding:8px 10px;border-radius:8px}
    .cta{background:var(--accent);color:#fff;padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .hero{display:flex;gap:18px;align-items:center;margin:18px 0;padding:16px;border-radius:12px;background:linear-gradient(90deg, rgba(255,240,230,0.9), rgba(255,250,245,0.85));box-shadow:0 6px 20px rgba(10,10,10,0.04)}
    .hero-left{flex:1}
    .hero h2{margin:0 0 6px;font-size:26px}
    .hero p{margin:0;color:var(--muted)}
    .hero img{width:300px;height:auto;border-radius:12px;object-fit:cover}
    main{display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start}
    /* Menu grid */
    .menu-section{background:var(--card);padding:12px;border-radius:12px}
    .menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
    .dish{background:var(--glass);border-radius:10px;padding:10px;border:1px solid rgba(0,0,0,0.04);display:flex;flex-direction:column;height:100%}
    .dish img{width:100%;height:140px;object-fit:cover;border-radius:8px;margin-bottom:8px}
    .dish h3{margin:6px 0 4px;font-size:16px}
    .dish p{margin:0 0 8px;color:var(--muted);font-size:13px}
    .dish .row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}
    .add-btn{background:#2e7d32;color:white;padding:8px 10px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    .price{font-weight:800}
    /* Sidebar / cart */
    .sidebar{position:relative}
    .cart{background:var(--card);padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.04)}
    .cart h3{margin:0 0 8px}
    .cart-list{max-height:340px;overflow:auto;margin-bottom:10px}
    .cart-item{display:flex;justify-content:space-between;gap:12px;padding:8px 0;border-bottom:1px dashed rgba(0,0,0,0.04)}
    .qty{display:flex;gap:6px;align-items:center}
    .icon{background:#fafafa;border:1px solid #eee;padding:6px 8px;border-radius:6px;cursor:pointer}
    .muted{color:var(--muted)}
    /* modal for dish details (optional) */
    .modal-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(4,6,10,0.45);padding:24px;z-index:50}
    .modal{background:white;border-radius:12px;padding:16px;max-width:900px;width:100%;box-shadow:0 12px 50px rgba(0,0,0,0.3)}
    /* responsive */
    @media (max-width:980px){
      main{grid-template-columns:1fr}
      .hero img{width:100%;max-width:420px}
      .sidebar{order:2}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">R</div>
        <div>
          <h1>Rasoi</h1>
          <div class="subtitle">Authentic Indian Flavours • Delivery & Pickup</div>
        </div>
      </div>
      <nav>
        <a href="#menu">Menu</a>
        <a href="#about">About</a>
        <button class="cta" id="view-cart-top">Cart (<span id="top-count">0</span>)</button>
      </nav>
    </header>

    <section class="hero" aria-hidden="false">
      <div class="hero-left">
        <h2>Home-style Indian food — from our kitchen to your table</h2>
        <p class="muted">Butter chicken, biryani, dal makhani, paneer tikka — made with traditional spices and fresh ingredients.</p>
        <div style="margin-top:12px;display:flex;gap:10px">
          <button class="cta" id="order-now">Order Now</button>
          <a href="#menu" class="muted" style="align-self:center;text-decoration:none">View menu →</a>
        </div>
      </div>
      <img src="https://picsum.photos/seed/indianfood/640/420" alt="Indian food platter">
    </section>

    <main>
      <!-- Left: Menu -->
      <section class="menu-section" id="menu">
        <h2 style="margin:0 0 10px">Menu</h2>
        <div class="menu-grid" id="menu-grid" aria-live="polite">
          <!-- Dish cards injected by JS -->
        </div>
      </section>

      <!-- Right: Cart -->
      <aside class="sidebar">
        <div class="cart" id="cart">
          <h3>Your Order</h3>
          <div class="cart-list" id="cart-list">
            <div class="muted">Cart is empty</div>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="muted">Total</div>
            <div style="font-weight:900" id="cart-total">₹0</div>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="cta" id="checkout">Checkout</button>
            <button class="icon" id="clear-cart">Clear</button>
          </div>
        </div>
      </aside>
    </main>

    <footer id="about" style="margin-top:22px;text-align:center;color:var(--muted)">
      © 2025 Rasoi • 45 Spice Lane, YourCity • Open daily 11:00 — 23:00
    </footer>
  </div>

  <!-- Modal (dish details) -->
  <div class="modal-backdrop" id="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" id="modal">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <h3 id="modal-title" style="margin:0">Dish</h3>
          <div class="muted" id="modal-sub">Description</div>
        </div>
        <div><button class="icon" id="close-modal">Close</button></div>
      </div>
      <div id="modal-body" style="margin-top:12px"></div>
    </div>
  </div>

  <script>
    // Sample Indian menu data
    const menu = [
      { id: 1, name: "Butter Chicken", desc: "Creamy tomato gravy, tandoori chicken pieces. Served with naan or rice.", price: 349, img: "https://picsum.photos/seed/butterchicken/480/320" },
      { id: 2, name: "Hyderabadi Biryani (Chicken)", desc: "Aromatic basmati rice layered with spiced chicken, saffron and fried onions.", price: 329, img: "https://picsum.photos/seed/biryani/480/320" },
      { id: 3, name: "Paneer Tikka Masala", desc: "Smoky tandoori paneer in a rich, spiced tomato gravy.", price: 289, img: "https://picsum.photos/seed/paneer/480/320" },
      { id: 4, name: "Dal Makhani", desc: "Slow-cooked black lentils finished with butter and cream.", price: 199, img: "https://picsum.photos/seed/dal/480/320" },
      { id: 5, name: "Gulab Jamun (2 pcs)", desc: "Soft milk dumplings soaked in rose cardamom syrup.", price: 99, img: "https://picsum.photos/seed/gulab/480/320" },
      { id: 6, name: "Masala Dosa", desc: "Crispy rice crepe filled with spiced potato; served with sambar and chutneys.", price: 159, img: "https://picsum.photos/seed/dosa/480/320" },
      { id: 7, name: "Chicken 65", desc: "Spicy deep-fried chicken appetizer with curry leaves & chilies.", price: 219, img: "https://picsum.photos/seed/chicken65/480/320" },
      { id: 8, name: "Raita & Salad", desc: "Cooling yogurt raita and fresh salad (side).", price: 59, img: "https://picsum.photos/seed/raita/480/320" }
    ];

    // Cart stored as { dishId: qty }
    let cart = JSON.parse(localStorage.getItem('rasoi_cart') || '{}');

    // DOM refs
    const menuGrid = document.getElementById('menu-grid');
    const cartListEl = document.getElementById('cart-list');
    const cartTotalEl = document.getElementById('cart-total');
    const topCount = document.getElementById('top-count');
    const modalBackdrop = document.getElementById('modal-backdrop');
    const modalTitle = document.getElementById('modal-title');
    const modalSub = document.getElementById('modal-sub');
    const modalBody = document.getElementById('modal-body');

    // Utility
    function formatRupee(n){ return '₹' + Number(n).toFixed(0); }
    function saveCart(){ localStorage.setItem('rasoi_cart', JSON.stringify(cart)); }

    // Render menu
    function renderMenu(){
      menuGrid.innerHTML = '';
      menu.forEach(d=>{
        const card = document.createElement('article');
        card.className = 'dish';
        card.innerHTML = `
          <img src="${d.img}" alt="${d.name}" />
          <h3>${d.name}</h3>
          <p>${d.desc}</p>
          <div class="row">
            <div class="price">${formatRupee(d.price)}</div>
            <div>
              <button class="add-btn" data-id="${d.id}">Add</button>
            </div>
          </div>
        `;
        // click to open details
        card.querySelector('img').addEventListener('click', ()=> openModal(d));
        card.querySelector('.dish h3')?.addEventListener('click', ()=> openModal(d));
        // add listener
        card.querySelector('.add-btn').addEventListener('click', ()=> addToCart(d.id));
        menuGrid.appendChild(card);
      });
    }

    // Cart functions
    function addToCart(id){
      cart[id] = (cart[id] || 0) + 1;
      saveCart();
      renderCart();
      const dish = menu.find(x=>x.id==id);
      // subtle confirmation
      showToast(`${dish.name} added to cart`);
    }
    function changeQty(id, delta){
      if(!cart[id]) return;
      cart[id] += delta;
      if(cart[id] <= 0) delete cart[id];
      saveCart(); renderCart();
    }
    function clearCart(){
      cart = {}; saveCart(); renderCart();
    }

    // Render cart panel
    function renderCart(){
      cartListEl.innerHTML = '';
      const keys = Object.keys(cart);
      if(keys.length === 0){
        cartListEl.innerHTML = '<div class="muted">Your cart is empty</div>';
        cartTotalEl.textContent = formatRupee(0);
        topCount.textContent = '0';
        return;
      }
      let total = 0, qtyTotal = 0;
      keys.forEach(k=>{
        const qty = cart[k];
        const dish = menu.find(d=>d.id==k);
        total += dish.price * qty;
        qtyTotal += qty;
        const row = document.createElement('div');
        row.className = 'cart-item';
        row.innerHTML = `
          <div style="flex:1">
            <strong>${dish.name}</strong>
            <div class="muted" style="font-size:13px"> ${formatRupee(dish.price)} × ${qty} = <strong>${formatRupee(dish.price*qty)}</strong></div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <button class="icon" data-op="dec" data-id="${k}">-</button>
            <div>${qty}</div>
            <button class="icon" data-op="inc" data-id="${k}">+</button>
          </div>
        `;
        cartListEl.appendChild(row);
      });
      cartTotalEl.textContent = formatRupee(total);
      topCount.textContent = String(qtyTotal);

      // attach qty handlers
      cartListEl.querySelectorAll('[data-op]').forEach(btn=>{
        btn.addEventListener('click', ()=> {
          const op = btn.getAttribute('data-op'), id = btn.getAttribute('data-id');
          if(op === 'inc') changeQty(id, 1); else changeQty(id, -1);
        });
      });
    }

    // Modal
    function openModal(dish){
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden', 'false');
      modalTitle.textContent = dish.name;
      modalSub.textContent = `${dish.desc} • ${formatRupee(dish.price)}`;
      modalBody.innerHTML = `
        <div style="display:flex;gap:12px;margin-top:10px">
          <img src="${dish.img}" alt="${dish.name}" style="width:200px;border-radius:8px;object-fit:cover">
          <div>
            <p class="muted">${dish.desc}</p>
            <p style="margin-top:10px"><strong>Price: ${formatRupee(dish.price)}</strong></p>
            <div style="margin-top:14px">
              <button class="cta" id="modal-add">Add to cart</button>
            </div>
          </div>
        </div>
      `;
      document.getElementById('modal-add').addEventListener('click', ()=> { addToCart(dish.id); closeModal(); });
    }
    function closeModal(){ modalBackdrop.style.display = 'none'; modalBackdrop.setAttribute('aria-hidden','true'); }

    // checkout
    function checkout(){
      const keys = Object.keys(cart);
      if(keys.length === 0){ alert('Your cart is empty'); return; }
      const name = prompt('Enter your name for the order:');
      if(!name) return;
      alert(`Thank you, ${name}! Your order has been placed. (Demo)`);
      clearCart();
    }

    // tiny toast
    let toastTimer = null;
    function showToast(msg){
      let t = document.getElementById('rasoi-toast');
      if(!t){
        t = document.createElement('div'); t.id = 'rasoi-toast';
        Object.assign(t.style, {
          position:'fixed', right:'18px', bottom:'18px', background:'rgba(0,0,0,0.8)',
          color:'white', padding:'10px 14px', borderRadius:'10px', zIndex:9999, fontWeight:700
        });
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.opacity = '1';
      if(toastTimer) clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{ t.style.opacity='0'; }, 1600);
    }

    // attach UI handlers
    document.getElementById('clear-cart').addEventListener('click', ()=> { if(confirm('Clear cart?')) clearCart(); });
    document.getElementById('checkout').addEventListener('click', checkout);
    document.getElementById('view-cart-top').addEventListener('click', ()=> {
      // scroll to cart
      document.getElementById('cart').scrollIntoView({behavior:'smooth'});
      renderCart();
    });
    document.getElementById('order-now').addEventListener('click', ()=> { document.getElementById('menu').scrollIntoView({behavior:'smooth'}); });

    document.getElementById('close-modal').addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', (e)=> { if(e.target === modalBackdrop) closeModal(); });

    // init render
    renderMenu();
    renderCart();
  </script>
</body>
</html>
